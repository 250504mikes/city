<form [formGroup]="anuncioForm" (ngSubmit)="guardarAnuncio()">
  <div>
    <button class="back-button" (click)="goBack()">&#8592;</button>
    <h1>{{ ID ? 'Editar Anuncio:' : 'Crear Anuncio:' }}</h1>
  </div>

  <div class="form-group">
    <label for="nombre">Nombre del Lugar*</label>
    <input type="text" id="nombre" placeholder="Escribe el nombre del lugar" formControlName="nombre">
    <div *ngIf="isInvalid('nombre')" class="text-danger textRequerido">El nombre es obligatorio</div>
  </div>

  <div class="form-group">
    <label for="descripcion">Descripción*</label>
    <input type="text" id="descripcion" placeholder="Escribe una descripción" formControlName="descripcion">
    <div *ngIf="isInvalid('descripcion')" class="text-danger textRequerido">La descripción es obligatoria</div>
  </div>

  <div class="form-group">
    <label for="paginaWeb">Página Web</label>
    <input type="text" id="paginaWeb" placeholder="Escribe la URL de tu página web" formControlName="paginaWeb">
    <div *ngIf="isInvalid('paginaWeb')" class="text-danger textRequerido">La URL es obligatoria y debe ser válida</div>
  </div>

  <div class="form-group">
    <label for="num_telefonico">Número Telefónico*</label>
    <input type="text" id="num_telefonico" placeholder="Escribe tu número telefónico" formControlName="num_telefonico">
    <div *ngIf="isInvalid('num_telefonico')" class="text-danger textRequerido">El número es obligatorio y debe tener 10 dígitos</div>
  </div>

  <div class="form-group">
    <label for="horario_apertura">Horario de Apertura*</label>
    <input type="time" id="horario_apertura" formControlName="horario_apertura">
    <div *ngIf="isInvalid('horario_apertura')" class="text-danger textRequerido">El horario de apertura es obligatorio</div>
  </div>

  <div class="form-group">
    <label for="horario_cierre">Horario de Cierre*</label>
    <input type="time" id="horario_cierre" formControlName="horario_cierre">
    <div *ngIf="isInvalid('horario_cierre')" class="text-danger textRequerido">El horario de cierre es obligatorio</div>
  </div>

  <!-- Días de Servicio -->
  <div class="form-group">
    <label for="dias_servicio">Días de Servicio*</label>
    <select id="dias_servicio" formControlName="dias_servicio">
      <option value="">Seleccionar días</option>
      <option *ngFor="let dia of diasServicioOpciones" [value]="dia">{{ dia }}</option>
    </select>
    <div *ngIf="isInvalid('dias_servicio')" class="text-danger textRequerido">Selecciona una opción</div>
  </div>

  <!-- Categoría -->
  <div class="form-group">
    <label for="categoria">Categoría*</label>
    <select id="categoria" formControlName="categoria">
      <option value="">Seleccionar categoría</option>
      <option *ngFor="let cat of categoriasOpciones" [value]="cat">{{ cat }}</option>
    </select>
    <div *ngIf="isInvalid('categoria')" class="text-danger textRequerido">Selecciona una categoría</div>
  </div>


  <div class="form-group">
    <label>Dirección*</label>
    <div class="direccion-group" formGroupName="direccion">
      <div>
        <label for="calle">Calle</label>
        <input type="text" id="calle" placeholder="Escribe la calle" formControlName="calle">
        <div *ngIf="isInvalid('direccion.calle')" class="text-danger textRequerido">La calle es obligatoria</div>
      </div>

      <div>
        <label for="numero_ext">Número Exterior</label>
        <input type="text" id="numero_ext" placeholder="Ej. 123" formControlName="numero_ext">
        <div *ngIf="isInvalid('direccion.numero_ext')" class="text-danger textRequerido">El número exterior es obligatorio</div>
      </div>

      <div>
        <label for="numero_int">Número Interior</label>
        <input type="text" id="numero_int" placeholder="Ej. Apto. 5" formControlName="numero_int">
        <div *ngIf="isInvalid('direccion.numero_int')" class="text-danger textRequerido">El número interior es obligatorio</div>
      </div>

      <div>
        <label for="colonia">Colonia</label>
        <input type="text" id="colonia" placeholder="Escribe la colonia" formControlName="colonia">
        <div *ngIf="isInvalid('direccion.colonia')" class="text-danger textRequerido">La colonia es obligatoria</div>
      </div>

      <div>
        <label for="codigo_postal">Código Postal</label>
        <input type="text" id="codigo_postal" placeholder="Ej. 12345" formControlName="codigo_postal">
        <div *ngIf="isInvalid('direccion.codigo_postal')" class="text-danger textRequerido">El código postal es obligatorio y debe ser valido</div>
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="url">URL de Imágenes*</label>
    <input type="text" id="url" placeholder="Escribe las URLs de las imágenes" formControlName="url">
    <div *ngIf="isInvalid('url')" class="text-danger textRequerido">La URL es obligatoria y debe ser válida</div>
  </div>

  <div class="buttons">
    <button type="submit">{{ ID ? 'Actualizar Anuncio' : 'Crear Anuncio' }}</button>
  </div>
</form>
